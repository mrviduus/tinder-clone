# ğŸ¨ Database Visual Architecture Diagrams

## Complete System ER Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          TINDER CLONE DATABASE SCHEMA                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚     USERS       â”‚                        â”‚    PROFILES     â”‚                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚  â”‚ PK: Id (uuid)   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€1:1â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ PK,FK: UserId   â”‚                 â”‚
â”‚  â”‚ Email           â”‚                        â”‚ DisplayName      â”‚                 â”‚
â”‚  â”‚ PasswordHash    â”‚                        â”‚ BirthDate        â”‚                 â”‚
â”‚  â”‚ EmailConfirmed  â”‚                        â”‚ Gender           â”‚                 â”‚
â”‚  â”‚ PhoneNumber     â”‚                        â”‚ Bio              â”‚                 â”‚
â”‚  â”‚ LockoutEnd      â”‚                        â”‚ Location (Point) â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ JobTitle         â”‚                 â”‚
â”‚           â”‚                                  â”‚ Company          â”‚                 â”‚
â”‚           â”‚                                  â”‚ School           â”‚                 â”‚
â”‚           â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                                                                        â”‚
â”‚           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚           â”œâ”€â”€â”€â”€1:Nâ”€â”€â–¶     PHOTOS       â”‚         â”‚     SWIPES       â”‚â—€â”€â”€â”€â”       â”‚
â”‚           â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚       â”‚
â”‚           â”‚         â”‚ PK: Id           â”‚         â”‚ PK: Id           â”‚    â”‚       â”‚
â”‚           â”‚         â”‚ FK: UserId       â”‚         â”‚ FK: SwiperId     â”‚â”€â”€â”€â”€â”¤       â”‚
â”‚           â”‚         â”‚ PhotoData (blob) â”‚         â”‚ FK: TargetUserId â”‚    â”‚       â”‚
â”‚           â”‚         â”‚ UploadedAt       â”‚         â”‚ Direction (0/1)  â”‚    â”‚       â”‚
â”‚           â”‚         â”‚ IsMain           â”‚         â”‚ SwipedAt         â”‚    â”‚       â”‚
â”‚           â”‚         â”‚ DisplayOrder     â”‚         â”‚ SwipeLocation    â”‚    â”‚       â”‚
â”‚           â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚           â”‚                 â”‚                                             â”‚       â”‚
â”‚           â”‚                 â”‚ N:1                                         â”‚       â”‚
â”‚           â”‚                 â–¼                                             â”‚       â”‚
â”‚           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚           â”œâ”€â”€â”€â”€1:Nâ”€â”€â–¶    MESSAGES      â”‚â—€â”€â”€â”€N:1â”€â”€â”‚     MATCHES      â”‚    â”‚       â”‚
â”‚           â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚       â”‚
â”‚           â”‚         â”‚ PK: Id           â”‚         â”‚ PK: Id           â”‚    â”‚       â”‚
â”‚           â”‚         â”‚ FK: MatchId      â”‚         â”‚ FK: UserAId      â”‚â”€â”€â”€â”€â”¼â”€â”€â”€M:N â”‚
â”‚           â”‚         â”‚ FK: SenderId     â”‚         â”‚ FK: UserBId      â”‚â”€â”€â”€â”€â”˜       â”‚
â”‚           â”‚         â”‚ FK: ImagePhotoId â”‚         â”‚ CreatedAt        â”‚            â”‚
â”‚           â”‚         â”‚ Content          â”‚         â”‚ UnmatchedAt      â”‚            â”‚
â”‚           â”‚         â”‚ SentAt           â”‚         â”‚ UnmatchedBy      â”‚            â”‚
â”‚           â”‚         â”‚ DeliveredAt      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚         â”‚ ReadAt           â”‚                                         â”‚
â”‚           â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚           â”‚                                                                       â”‚
â”‚           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚           â””â”€â”€â”€â”€1:Nâ”€â”€â–¶ REFRESH_TOKENS   â”‚                                        â”‚
â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                        â”‚
â”‚                     â”‚ PK: Id           â”‚                                        â”‚
â”‚                     â”‚ FK: UserId       â”‚                                        â”‚
â”‚                     â”‚ Token (unique)   â”‚                                        â”‚
â”‚                     â”‚ JwtId            â”‚                                        â”‚
â”‚                     â”‚ ExpiresAt        â”‚                                        â”‚
â”‚                     â”‚ IsUsed           â”‚                                        â”‚
â”‚                     â”‚ IsInvalidated    â”‚                                        â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Table Relationships

### User-Centric View
```
                              USER (Alice)
                                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼          â–¼           â–¼     â–¼          â–¼          â–¼
    PROFILE    PHOTOS(6)   SWIPES  MATCHES   MESSAGES  TOKENS(2)
        â”‚          â”‚           â”‚       â”‚         â”‚          â”‚
    Name: Alice    â”‚      Bob: Like    â”‚     "Hi Bob!"     â”‚
    Age: 28        â”‚      Carl: Pass   â”‚                   â”‚
    Bio: "..."     â”‚      Dan: Like    â””â”€â”€â”€â”€â”€Matchâ”€â”€â”€â”€â”    â”‚
                   â”‚                          with     â”‚    â”‚
              Main Photo                      Bob      â”‚    â”‚
              Photo 2...                       â”‚       â”‚    â”‚
                                               â–¼       â–¼    â–¼
                                           MESSAGES  in  MATCH
```

### Matching Flow Diagram
```
     Alice                           Bob
       â”‚                              â”‚
       â–¼                              â–¼
   SWIPES TABLE                  SWIPES TABLE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Aliceâ†’Bob:â¤â”‚                â”‚Bobâ†’Alice:?â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â¬‡
                Time passes
                     â¬‡
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Aliceâ†’Bob:â¤â”‚                â”‚Bobâ†’Alice:â¤â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â¬‡
              ğŸ‰ MUTUAL LIKE ğŸ‰
                     â¬‡
                MATCHES TABLE
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Match Created â”‚
              â”‚ UserA: Alice  â”‚
              â”‚ UserB: Bob    â”‚
              â”‚ CreatedAt: Nowâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â¬‡
              Chat Unlocked!
                     â¬‡
               MESSAGES TABLE
```

## Data Flow Architecture

### 1. User Registration Flow
```
    NEW USER SIGNUP
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Create USER  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Record       â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â–¼
          â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                â”‚Create       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚REFRESH_TOKENâ”‚
    â”‚Create       â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚PROFILE      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Upload PHOTOSâ”‚
    â”‚(Optional)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Swipe & Match Flow
```
    USER SWIPES RIGHT
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Record SWIPE â”‚
    â”‚Direction: 1 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    Check Mutual?
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    NO          YES
    â”‚            â”‚
    â–¼            â–¼
   END    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Create MATCH â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Notify Users â”‚
          â”‚Enable Chat  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Messaging Flow
```
    USER SENDS MESSAGE
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Validate     â”‚
    â”‚Match Exists â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Save to      â”‚
    â”‚MESSAGES     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Broadcast viaâ”‚
    â”‚SignalR Hub  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â–¼           â–¼
  Sender    Recipient
  (Echo)    (Deliver)
```

## Index Strategy Visualization

### Spatial Index (Location-based Discovery)
```
                 LOCATION INDEX (PostGIS GIST)
                           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      â”‚                      â”‚
    â–¼                      â–¼                      â–¼
  ZONE A                 ZONE B                 ZONE C
  Users: 1-1000         Users: 1001-2000      Users: 2001-3000
    â”‚                      â”‚                      â”‚
    â”œâ”€ Alice (x,y)        â”œâ”€ Charlie            â”œâ”€ Eve
    â”œâ”€ Bob (x,y)          â”œâ”€ Diana              â””â”€ Frank
    â””â”€ ...                â””â”€ ...

Query: Find users within 10km of point (lat, long)
Result: Efficiently returns nearby users using spatial index
```

### Message Index (Conversation Performance)
```
           COMPOSITE INDEX: (match_id, sent_at DESC)
                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚                 â”‚
    Match_001         Match_002         Match_003
         â”‚                 â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚Messages â”‚      â”‚Messages â”‚      â”‚Messages â”‚
    â”‚Sorted byâ”‚      â”‚Sorted byâ”‚      â”‚Sorted byâ”‚
    â”‚sent_at  â”‚      â”‚sent_at  â”‚      â”‚sent_at  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Query: Get last 30 messages for match_id
Result: O(log n) retrieval using index
```

## Constraint Enforcement Diagram

### Unique Constraints
```
        SWIPES TABLE                      MATCHES TABLE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ UNIQUE:           â”‚            â”‚ UNIQUE:           â”‚
   â”‚ (SwiperId,        â”‚            â”‚ (UserAId,         â”‚
   â”‚  TargetUserId)    â”‚            â”‚  UserBId)         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚                   â”‚
           â”‚                        â”‚ WHERE:            â”‚
           â–¼                        â”‚ UserAId < UserBIdâ”‚
   âŒ Can't swipe twice             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   on same person                            â”‚
                                             â–¼
                                    âŒ One match per pair
                                    (regardless of order)
```

### Check Constraints
```
   PROFILES                    MESSAGES                  MATCHES
      â”‚                           â”‚                         â”‚
      â–¼                           â–¼                         â–¼
  Age >= 18                 Content OR Photo          UserA != UserB
  (BirthDate check)         must exist                (No self-match)
```

## Security & Performance Layers

### Row-Level Security
```
                    USER REQUEST
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                    â”‚   JWT    â”‚
                    â”‚  Token   â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Authorization  â”‚
                â”‚     Layer       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼            â–¼            â–¼
        Own Profile  Own Matches  Own Messages
         Only         Only          Only
```

### Caching Strategy
```
    REQUEST
        â”‚
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Cache?  â”‚â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€â”€â”€â–¶ Return Cached
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        No
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Database â”‚
   â”‚ Query   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
   Update Cache
        â”‚
        â–¼
    Return Data

Cache Layers:
1. User Profiles (5 min TTL)
2. Match Lists (1 min TTL)
3. Recent Messages (30 sec TTL)
```

## Scale Considerations

### Data Growth Projection
```
Users Timeline:
Day 1:     100 users     â†’  600 photos    â†’  5K swipes
Month 1:   10K users     â†’  60K photos   â†’  1M swipes
Year 1:    100K users    â†’  600K photos  â†’  36M swipes
Year 2:    1M users      â†’  6M photos    â†’  365M swipes

Storage Growth:
â”œâ”€â”€ Users/Profiles: 2GB
â”œâ”€â”€ Photos: 3TB (500KB avg)
â”œâ”€â”€ Messages: 500GB
â””â”€â”€ Total: ~4TB
```

### Partitioning Strategy
```
                MESSAGES TABLE
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚                 â”‚
messages_2025_01  messages_2025_02  messages_2025_03
(January)         (February)        (March)
    â”‚                 â”‚                 â”‚
  1.2M msgs         980K msgs        1.5M msgs

Benefits:
- Faster queries on recent data
- Easier archival of old data
- Parallel query execution
```

---

*Visual Database Architecture Documentation v1.0.0*
*Diagrams represent PostgreSQL 15+ with PostGIS 3.3+*